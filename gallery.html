<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gallery â€” Michael Corra</title>
  <link rel="stylesheet" href="styles.css?v=43" />
</head>
<body>
  <header class="site-header">
    <a class="site-title" href="index.html">Michael Corra</a>
    <nav class="site-nav">
      <a href="gallery.html" aria-current="page">Gallery</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <main class="container">
    <h1 class="visually-hidden">Gallery</h1>
    <div id="gallery-grid" class="gallery-grid"></div>
  </main>

  <!-- Your existing script that renders the gallery -->
  <script src="script.js?v=44" defer></script>

  <!-- Swap 1st and 4th items AFTER they exist -->
  <script>
    (function () {
      function swapOnce() {
        var grid = document.getElementById('gallery-grid');
        if (!grid) return false;
        var items = grid.children;
        if (items.length < 4) return false;

        // Capture current nodes before reordering
        var first = items[0];
        var fourth = items[3];

        // Move original 4th to the front
        grid.insertBefore(fourth, first);

        // Put original 1st into the 4th position (index 4 after previous insert)
        var ref = grid.children[4] || null; // null -> append
        grid.insertBefore(first, ref);
        return true;
      }

      // Try on load in case everything is ready
      window.addEventListener('load', function () {
        if (swapOnce()) return;

        // If not ready, observe until at least 4 items exist, then swap once
        var grid = document.getElementById('gallery-grid');
        if (!grid) return;
        var done = false;
        var obs = new MutationObserver(function () {
          if (!done && swapOnce()) {
            done = true;
            obs.disconnect();
          }
        });
        obs.observe(grid, { childList: true });

        // Fallback: try again after 2 seconds
        setTimeout(function () {
          if (!done) {
            done = swapOnce();
            if (done) obs.disconnect();
          }
        }, 2000);
      });
    })();
  </script>
</body>
</html>
